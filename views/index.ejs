<% include partials/header.ejs %>
<% include partials/messages.ejs %>
    <div class="table-wrapper">
        <% if (students.length > 0) {%>
            <table class="table table-hovered">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col"><a href="/students/id/1" rel="noopener"><%= __('ID') %></a></th>
                        <th scope="col"><%= __("Image") %> </th>
                        <th scope="col"><a href="/students/first_name/1" rel="noopener"><%= __("First Name") %> </a></th>
                        <th scope="col"><a href="/students/last_name/1" rel="noopener"><%= __("Last Name") %> </a></th>
                        <th scope="col"><a href="/students/sex/1" rel="noopener"><%= __("Sex") %> </a></th>
                        <th scope="col"><a href="/students/d_o_b/1" rel="noopener"><%= __("DOB") %> </a></th>
                        <th scope="col"><%= __("Passport No") %> </th>
                        <th scope="col"><%= __("Address") %> </th>
                        <th scope="col"><%= __("Class") %> </th>
                        <th scope="col"><%= __("Bus") %> </th>
                        <th scope="col"><%= __("Parents phone") %> </a></th>
                        <th scope="col"><%= __("Action") %> </th>
                    </tr>
                </thead>
                <tbody>
                    <% students.forEach((student, index) => { %>
                        <tr>
                            <th scope="row"><a href="/mainStudent/<%= student.id %>" rel="noopener"><%= student.id %></th>
                            <td>
                                <object data="/assets/img/<%= student.image %>" type="image/png" class="rounded-circle student-img">
                                    <img src="/assets/img/student.png" alt="student image" class="rounded-circle student-img">
                                </object>
                            </td>
                            <td><%= student.first_name %></td>
                            <td><%= student.last_name %></td>
                            <td><%= student.sex %></td>
                            <td><%= student.d_o_b %></td>
                            <td><%= student.passport_no %></td>
                            <td>@<%= student.address %></td>
                            <td><%= student.class %></td>
                            <td><%= student.bus_id %></td>
                            <td><%= student.parents_mobile %></td>
                            <td>
                                <a href="/edit/<%= student.id %>" rel="noopener" class="btn btn-sm btn-success"><%= __("Edit") %></a>
                                <a href="/delete/<%= student.id %>" class="btn btn-sm btn-danger confirmation"><%= __("Delete") %></a>
                                <a href="/viewFees/<%= student.id %>" class="btn btn-sm btn-warning"><%= __("Fees") %></a>
                            </td>
                        </tr>
                    <% }) %>
                </tbody>
            </table>
        <% } else { %>
            <p class="text-center">No students found. Go <a href="/add" >here</a> to add student.</p>
        <% } %>
    </div>
</div>
<div class="text-center">
    <% for (let i=1; i<=pages; i++) { %>
    <a href="/students/<%= order%>/<%= i %>" rel="noopener" class="btn btn-sm btn-success"><%= i %></a>
    <% } %>   
</div>

<% include partials/footer.ejs %>